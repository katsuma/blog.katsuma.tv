---
title: " ActionScript3だけで作るUIコンポーネント"
date: 2008/03/17
tags: actionscript
published: true

---

<p><a href="http://blog.katsuma.tv/2008/03/slider_by_only_actionscript3.html">前回のエントリ</a>に対して、Technorati経由でAS3のスライダー実装のコードを別の切り口から書いてくれてる方を発見。（ありがとうございます！）</p>

<p><a href="http://kozy.heteml.jp/l4l/2008/03/actionscript3.html">[ActionScript3]スライダーバーでのっかり</a></p>

<p>AS3に関しては我流度が相当高いので他の人が書いたコードは相当参考になります。しかも</p>

<p>
<blockquote>細かいんですが、MOUSE_MOVEとMOUSE_UPがそのオブジェクト上じゃないとダメっつーのが嫌でStageオブジェクトに逐一 addEventListener。そもそもMOUSE_DOWN出来てる時点で表示リストに追加されているという算段。実はこれ、 FlashPlayerの描画領域を超えて、さらにはブラウザのウィンドウ領域を超えてマウスイベントが拾えるすぐれものtips。StageオブジェクトのMOUSE_MOVEとMOUSE_UPはStageからのドラッグだとイベントを送出するらしいです。</blockquote>
</p>

<p>こんなの全然知らなかった！！FlashPlayerの外のイベントまで拾えちゃうのかぁ。。なんかいろいろ新しくできそうなことを模索しちゃいますね。こんな情報まで教えてもらえたので晒した甲斐があったなぁ。</p>

<h3>基本コンポーネント作るのめんどくさい</h3>
<p>上記のエントリ内でも言及されてますが、AS3でMXMLコンポーネント使えない(ですよね？)のがそもそも開発者を面倒がらせることになっているわけで。「UI含めて大部分の開発をAS3だけで行うんだけども、ボタンやスライダ、テキストエリアみたいな基本的なUIコンポーネントはMXMLのを使い回したい」なんて需要は相当あるんじゃないのかなぁと思っています。</p>

<p>MXMLが微妙にイケてないのが、まさにここの点であって、MXML文書内ではAS3のコードが書けるのに、AS3のコード内ではMXML要素を動的生成することができない(はず、少なくとも自分の調べによると)点。WebページにおけるHTMLとJavaScriptの関係がswfにおけるMXMLとActionScriptであるなら、MXML要素の動的生成くらいサポートしてもよさそうなのに、、と思うのですが、この考えは間違っているのでしょうかね？</p>

<p>あと、CS3から追加されたfl.*パッケージについてもmxmlcがコンパイルできないのも微妙な点。コンパイルが通るようにライブラリを<a href="http://labs.thesedays.com/2007/04/16/flash-cs3-swc-for-flexbuilder/">swcにまとめてくれてる人もいる</a>けど、コンパイル通っても実際には表示されるべきUIコンポーネントで使われている画像が一切表示されないから、この話の流れ上では使えない、と言い切ってもよさそう。要するにUI系コンポーネント使えたけりゃCS3買えって話？</p>

<h3>情報がまとまってほしい</h3>
<p>こんな風に自作コンポーネント作ってる人は結構いると思うんだけども、情報がまとまっててほしい。codereposみたいに共有の場所にみんなでぽんぽん上げていくような。今度スクロールバーとか必要になったら「これはありそうだよなーさすがに」とか呟きながらググりまくる自分の姿が想像できるわけですよ。SBMに共通タグつけるのでもいいけど、何かしろの共有ルールが欲しいな、と。</p>


